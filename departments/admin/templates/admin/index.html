{% extends "base.html" %}
{% block content %}
<div class="container-fluid mt-5">
    <h2 class="mb-4 text-center text-primary fw-bold">Admin Control Panel</h2>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <!-- Dashboard Overview -->
    <div class="row mb-4">
        <div class="col-md-4">
            <div class="card shadow-sm text-center" style="background-color: #e8f0fe; border-color: #4285f4;">
                <div class="card-header bg-primary text-white">
                    <h5 class="card-title mb-0"><i class="bi bi-people me-2"></i> Total Users</h5>
                </div>
                <div class="card-body">
                    <p class="card-text display-6 text-primary">{{ users|length }}</p>
                    <a href="{{ url_for('admin.manage_users') }}" class="btn btn-primary btn-sm">
                        <i class="bi bi-gear me-2"></i> Manage Users
                    </a>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card shadow-sm text-center" style="background-color: #e6f4ea; border-color: #34c759;">
                <div class="card-header bg-success text-white">
                    <h5 class="card-title mb-0"><i class="bi bi-gear me-2"></i> System Status</h5>
                </div>
                <div class="card-body">
                    <p class="card-text text-success fw-bold">Online</p>
                    <a href="{{ url_for('admin.system_overview') }}" class="btn btn-success btn-sm">
                        <i class="bi bi-eye me-2"></i> View Details
                    </a>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card shadow-sm text-center" style="background-color: #f3e8ff; border-color: #9c27b0;">
                <div class="card-header bg-purple text-white">
                    <h5 class="card-title mb-0"><i class="bi bi-journal-text me-2"></i> Recent Logs</h5>
                </div>
                <div class="card-body">
                    <p class="card-text text-purple">View Activity</p>
                    <a href="{{ url_for('admin.logs') }}" class="btn btn-purple btn-sm">
                        <i class="bi bi-clock-history me-2"></i> Check Logs
                    </a>
                </div>
            </div>
        </div>
    </div>
<div class="card shadow-sm mb-4" style="background-color: #f8f9fa;">
    <div class="container-fluid mt-5">
        <h2 class="mb-4 text-center text-primary fw-bold"><i class="bi bi-building me-2"></i> Department Control</h2>
    </div>
    <div class="card-body">
        <!-- Department Selection Dropdown -->
        <div class="mb-4">
            <label for="departmentSelect" class="form-label">Switch Department</label>
            <select id="departmentSelect" class="form-select">
                <option value="records">Records</option>
                <option value="billing">Billing</option>
                <option value="nursing">Nursing</option>
                <option value="laboratory">Laboratory</option>
                <option value="imaging">Imaging</option>
                <option value="pharmacy">Pharmacy</option>
                <option value="stores">Stores</option>
                <option value="admin">Admin</option>
            </select>
        </div>
    <!-- Department Control Panel -->
<div class="card shadow-sm mb-4" style="background-color: #f8f9fa;">
    <div class="container-fluid mt-5">
        <h2 class="mb-4 text-center text-primary fw-bold"><i class="bi bi-building me-2"></i> Department Control</h2>
    </div>
    <div class="card-body">
        <div class="row g-4">
            <!-- First Column -->
            <div class="col-md-4 col-sm-6">
                <a href="{{ url_for('records.index') }}" class="btn btn-outline-records w-100 h-100 d-flex align-items-center justify-content-center">
                    <i class="bi bi-files me-2"></i> Records
                </a>
            </div>
            <div class="col-md-4 col-sm-6">
                <a href="{{ url_for('billing.index') }}" class="btn btn-outline-billing w-100 h-100 d-flex align-items-center justify-content-center">
                    <i class="bi bi-cash-coin me-2"></i> Billing
                </a>
            </div>
            <div class="col-md-4 col-sm-6">
                <a href="{{ url_for('nursing.view_notes') }}" class="btn btn-outline-nursing w-100 h-100 d-flex align-items-center justify-content-center">
                    <i class="bi bi-heart-pulse me-2"></i> Nursing
                </a>
            </div>

            <!-- Second Column -->
            <div class="col-md-4 col-sm-6">
                <a href="{{ url_for('laboratory.lab_tests') }}" class="btn btn-outline-laboratory w-100 h-100 d-flex align-items-center justify-content-center">
                    <i class="bi bi-flask me-2"></i> Laboratory
                </a>
            </div>
            <div class="col-md-4 col-sm-6">
                <a href="{{ url_for('imaging.index') }}" class="btn btn-outline-imaging w-100 h-100 d-flex align-items-center justify-content-center">
                    <i class="bi bi-camera me-2"></i> Imaging
                </a>
            </div>
            <div class="col-md-4 col-sm-6">
                <a href="{{ url_for('pharmacy.index') }}" class="btn btn-outline-pharmacy w-100 h-100 d-flex align-items-center justify-content-center">
                    <i class="bi bi-capsule me-2"></i> Pharmacy
                </a>
            </div>

            <!-- Third Column -->
            <div class="col-md-4 col-sm-6">
                <a href="{{ url_for('stores.index') }}" class="btn btn-outline-store w-100 h-100 d-flex align-items-center justify-content-center">
                    <i class="bi bi-box-seam me-2"></i> Store
                </a>
            </div>
            <div class="col-md-4 col-sm-6">
                <a href="{{ url_for('admin.add_user') }}" class="btn btn-outline-admin w-100 h-100 d-flex align-items-center justify-content-center">
                    <i class="bi bi-person-plus me-2"></i> Add User
                </a>
            </div>
            <div class="col-md-4 col-sm-6">
                <a href="{{ url_for('medicine.index') }}" class="btn btn-outline-medicine w-100 h-100 d-flex align-items-center justify-content-center">
                    <i class="bi bi-capsule-pill me-2"></i> Medicine
                </a>
            </div>

            <!-- Fourth Column -->
            <div class="col-md-4 col-sm-6">
                <a href="" class="btn btn-outline-mortuary w-100 h-100 d-flex align-items-center justify-content-center">
                    <i class="bi bi-emoji-dizzy me-2"></i> Mortuary
                </a>
            </div>
            <div class="col-md-4 col-sm-6">
                <a href="" class="btn btn-outline-hr w-100 h-100 d-flex align-items-center justify-content-center">
                    <i class="bi bi-people me-2"></i> Human Resource
                </a>
            </div>
            <div class="col-md-4 col-sm-6">
                <a href="" class="btn btn-outline-coming-soon w-100 h-100 d-flex align-items-center justify-content-center">
                    <i class="bi bi-hourglass-split me-2"></i> Coming Soon
                </a>
            </div>
        </div>
    </div>
</div>

    <!-- Quick Actions -->
    <div class="text-center mt-4">
        <a href="{{ url_for('logout') }}" class="btn btn-danger">
            <i class="bi bi-box-arrow-right me-2"></i> Logout
        </a>
    </div>
</div>

<style>
    /* Custom CSS for Control Panel Look with Colors */
    .card {
        border-radius: 10px;
        transition: transform 0.2s;
    }
    .card:hover {
        transform: translateY(-5px);
    }

    /* Button styles for outline buttons with hover effects */
    .btn-outline-records {
        border-color: #6c757d;
        color: #6c757d;
    }
    .btn-outline-records:hover {
        background-color: #6c757d;
        color: white;
    }
    .btn-outline-billing {
        border-color: #28a745;
        color: #28a745;
    }
    .btn-outline-billing:hover {
        background-color: #28a745;
        color: white;
    }
    .btn-outline-nursing {
        border-color: #dc3545;
        color: #dc3545;
    }
    .btn-outline-nursing:hover {
        background-color: #dc3545;
        color: white;
    }
    .btn-outline-laboratory {
        border-color: #17a2b8;
        color: #17a2b8;
    }
    .btn-outline-laboratory:hover {
        background-color: #17a2b8;
        color: white;
    }
    .btn-outline-imaging {
        border-color: #ffc107;
        color: #ffc107;
    }
    .btn-outline-imaging:hover {
        background-color: #ffc107;
        color: #2c3e50;
    }
    .btn-outline-pharmacy {
        border-color: #6610f2;
        color: #6610f2;
    }
    .btn-outline-pharmacy:hover {
        background-color: #6610f2;
        color: white;
    }
    .btn-outline-store {
        border-color: #fd7e14;
        color: #fd7e14;
    }
    .btn-outline-store:hover {
        background-color: #fd7e14;
        color: white;
    }
    .btn-outline-admin {
        border-color: #007bff;
        color: #007bff;
    }
    .btn-outline-admin:hover {
        background-color: #007bff;
        color: white;
    }
    .btn-outline-medicine {
        border-color: #20c997;
        color: #20c997;
    }
    .btn-outline-medicine:hover {
        background-color: #20c997;
        color: white;
    }
    .btn-outline-mortuary {
        border-color: #6f42c1;
        color: #6f42c1;
    }
    .btn-outline-mortuary:hover {
        background-color: #6f42c1;
        color: white;
    }
    .btn-outline-hr {
        border-color: #e83e8c;
        color: #e83e8c;
    }
    .btn-outline-hr:hover {
        background-color: #e83e8c;
        color: white;
    }
    .btn-outline-coming-soon {
        border-color: #6c757d;
        color: #6c757d;
    }
    .btn-outline-coming-soon:hover {
        background-color: #6c757d;
        color: white;
    }

    /* Additional styles from the first block */
    .btn-purple {
        background-color: #9c27b0;
        border-color: #9c27b0;
        color: white;
    }
    .btn-purple:hover {
        background-color: #7b1fa2;
        border-color: #7b1fa2;
    }
    .bg-purple {
        background-color: #9c27b0;
    }
    .text-purple {
        color: #9c27b0;
    }
    .display-6 {
        font-size: 2.5rem;
    }
    .btn {
        min-height: 80px;
        font-size: 1.1rem;
    }
</style>
{% endblock %}